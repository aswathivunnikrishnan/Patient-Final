@model IEnumerable<PatientManagementsystem.Models.Product>

@{
    ViewBag.Title = "Index";
}

<h2>Index</h2>

<p>
    @Html.ActionLink("Create New", "CreateProduct")
</p>
<script src="https://code.jquery.com/jquery-3.6.1.js" integrity="sha256-3zlB5s2uwoUzrXK3BT7AX3FyvojsraNFxCc2vC/7pNI=" crossorigin="anonymous"></script>
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.12.1/css/jquery.dataTables.css">
<link href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" rel="stylesheet">

<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.12.1/js/jquery.dataTables.js"></script>


<table id="table_id" class="table">
    <thead class="thead-dark">
        <tr>
            <th scope="col">Product Id</th>
            <th scope="col">Product Name</th>
            <th scope="col">Category</th>
            <th scope="col">Batch Number</th>
            <th scope="col">Minimun Quantity</th>
            <th scope="col">Reorder</th>
            <th scope="col">UOM</th>
            <th scope="col">Quantity</th>
            <th scope="col">Expiry Date</th>
            <th scope="col">Action</th>
        </tr>
    </thead>

</table>
<script>
    $(document).ready(function () {
        $('#table_id').DataTable(
            {
                "ajax": {
                    url: "/Product/GetAllProduct",
                    type: "Get",
                    dataType: "json",
                },

                "columns": [

                    { 'data': 'ProductId' },
                    { 'data': 'ProductName' },
                    { 'data': 'Category' },
                    { 'data': 'BatchNumber' },
                    { 'data': 'MinQuantity' },
                    { 'data': 'Reorder' },
                    { 'data': 'UOM' },
                    { 'data': 'Quantity' },
                    { 'data': 'ExpiryDate' },
                    {
                        'data': 'ProductId', 'render': function (data) {
                            return '<a class="orenge" title="Edit" onclick="editGetProduct(' + data + ')" > <span class="glyphicon glyphicon-edit"></span></a>  <a class="red" title="Delete"  onclick="Delete(' + data + ')"> <span class="glyphicon glyphicon-trash"></span></a>';
                        }
                    }

                ],
                /*"serverSide": true,*/
                /* "order": [1, "asc"],*/
                "scrollY": "370px",
                "scrollCollapse": false,

            });


    });


    function editGetPatient(id) {
       /* $.post("/Patient/Edit/" + id);*/
        window.location.href = "@Url.Action("Edit", "Product")" +"/"+ id;
    }

    function Delete(id) {
       window.location.href = "@Url.Action("Delete", "Product")" +"/"+ id;
    }





</script>
<style>

    .orenge {
        color: orange;
        font-size: x-large;
        cursor: pointer;
    }

    .red {
        color: red;
        font-size: x-large;
        cursor: pointer;
    }
</style>

<script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>